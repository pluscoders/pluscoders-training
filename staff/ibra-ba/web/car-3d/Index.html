<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Game 3D</title>
    <link rel="shortcut icon" href="Multimedia/car_icon3959.png" type="image/x-icon">
</head>

<body>

    <h1>Car Game 3D</h1>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bangers&display=swap');

        body {
            margin: 0;
        }

        h1{
            font-family: 'Bangers', sans-serif;
            margin: 20px;
        }
    </style>

    <script src="three.js"></script>
    <script type="module" src="GLTFLoader.js"></script>

    <script type="module">
        //Hola Manu Cargue un modelo 3d que encontre en una pagina :) que porcierto ese es su color porque olvide darle textura en el blender

        import { GLTFLoader } from "./GLTFLoader.js"; //el archivo que te carga el modelo

        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera(
            75, window.innerWidth / window.innerHeight, 0.01, 1000
        )

        var renderer = new THREE.WebGLRenderer()
        renderer.setSize(window.innerWidth, window.innerHeight)
        document.body.appendChild(renderer.domElement)

        var loader = new GLTFLoader()
        var obj;

        loader.load('scene.gltf', function (gltf) { //te carga el modelo 
            obj = gltf.scene;
            scene.add(gltf.scene);// lo pone el la escena
        });

        scene.background = new THREE.Color(0xFFFFFF) //descubri que se podia cambiar el color de fondo con hexadecimal
        var light = new THREE.HemisphereLight(0xffffff, 0x000000, 5); //la luz, que se puede cambiar de color, El valor 5 es la potencia de la luz la puedes incrementar o bajar 

        scene.add(light);
        camera.position.set(0, 20, 700); //posicion de la camara de los ejes x y z como en unity
        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);

            //obj.rotation.y += 0.01

        }

        animate();

        const step = .2
        const step2 = 10 //le aÃ±adi esta nueva porque la step era muy lenta para subir y bajar

        document.onkeydown = event => {
            const { key } = event

            //console.log(key)

            if (key === 'ArrowUp')
                obj.rotation.x -= step
            else if (key === 'ArrowDown')
                obj.rotation.x += step
            else if (key === 'ArrowLeft')
                obj.rotation.y -= step
            else if (key === 'ArrowRight')
                obj.rotation.y += step
            else if (key === 'PageUp')
                obj.position.y += step2
            else if (key === 'PageDown')
                obj.position.y -= step2
        }


    </script>

</body>

</html>